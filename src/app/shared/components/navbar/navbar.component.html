<header class="sticky top-0 z-50 bg-white/90 ">
  <nav class="bg-white border-b border-gray-200">
    <div class="max-w-screen-lg flex flex-wrap items-center justify-between mx-auto px-4">
      <a routerLink="/" aria-label="Logo">
        <img src="/img/logo-nav.png" class="h-16 p-2" alt="">
      </a>
      <div class="flex md:order-2 md:space-x-0 rtl:space-x-reverse">
        <!-- <button
          aria-label="Search Button"
          class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"
        >
          <svg
            class="size-5"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"
            />
          </svg>
        </button> -->
        <a routerLink="/cart" aria-label="Go to Cart" class="relative inline-flex items-center p-2 w-12 h-12 justify-center
         text-sm text-gray-500 rounded-lg hover:bg-gray-100
         focus:outline-none focus:ring-2 focus:ring-gray-200">

          <!-- Icono carrito -->
          <svg class="w-5 h-5" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
            <path
              d="M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />
          </svg>

          <!-- Badge -->
          <span *ngIf="cartItems > 0" class="absolute -top-0.5 -right-0.5
           min-w-[18px] h-[18px]
           px-1 text-xs font-bold
           flex items-center justify-center
           rounded-full bg-red-500 text-white">
            {{ cartItems }}
          </span>
        </a>
        <button type="button" (click)="toggleMobileMenu()" aria-controls="navbar" [attr.aria-expanded]="mobileMenuOpen"
          class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden
         hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200">
          <span class="sr-only">Open main menu</span>

          <!-- Icono cambia a X -->
          <svg *ngIf="!mobileMenuOpen" class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 17 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M1 1h15M1 7h15M1 13h15" />
          </svg>

          <svg *ngIf="mobileMenuOpen" class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M6 6l12 12M18 6L6 18" />
          </svg>
        </button>
      </div>
      <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1 p-4 md:p-0" id="navbar">
        <ul
          class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white">
          <li>
            <a routerLink="/"
              class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-[#06cf86] md:p-0">Inicio</a>
          </li>
          <li>
            <a routerLink="/products"
              class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-[#06cf86] md:p-0">Productos</a>
          </li>
          <!-- <li>
            <a
              routerLink="/gift-cards"
              class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-[#06cf86] md:p-0"
              >Gift Cards</a
            >
          </li> -->
        </ul>
      </div>
    </div>
  </nav>
  <!-- Backdrop -->
<div
  *ngIf="mobileMenuOpen"
  (click)="closeMobileMenu()"
  class="fixed inset-0 z-40 bg-black/30 backdrop-blur-[1px] md:hidden"
></div>

<!-- Mobile Menu (slide-down moderno) -->
<div
  class="md:hidden fixed left-0 right-0 top-[72px] z-50 px-4"
  [class.pointer-events-none]="!mobileMenuOpen"
>
  <div
    class="overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-lg
           transition-all duration-300 ease-out
           origin-top"
    [class.max-h-0]="!mobileMenuOpen"
    [class.max-h-96]="mobileMenuOpen"
    [class.opacity-0]="!mobileMenuOpen"
    [class.opacity-100]="mobileMenuOpen"
    [class.-translate-y-2]="!mobileMenuOpen"
    [class.translate-y-0]="mobileMenuOpen"
  >
    <div class="p-3">
      <a
        routerLink="/"
        (click)="closeMobileMenu()"
        class="flex items-center gap-3 rounded-xl px-4 py-3 text-gray-900 hover:bg-gray-50 transition"
      >
        <span class="font-medium">Inicio</span>
      </a>

      <a
        routerLink="/products"
        (click)="closeMobileMenu()"
        class="flex items-center gap-3 rounded-xl px-4 py-3 text-gray-900 hover:bg-gray-50 transition"
      >
        <span class="font-medium">Productos</span>
      </a>
    </div>
  </div>
</div>
</header>